<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Cliente / Proveedor</title>
    <link rel="stylesheet" href="../css/registro.css">
</head>

<body>
    <!-- Botón Volver flotante -->
    <button class="btn-volver" onclick="window.location.href='dashboard.html'">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        Volver
    </button>

    <div class="registro-wrapper" id="registroWrapper">
        <!-- Panel Izquierdo Verde -->
        <div class="panel-izquierdo" id="panelVerde">
            <div class="contenido-bienvenida">
                <!-- Logo con animación -->
                <div class="logo-circle">
                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>
                        <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
                    </svg>
                </div>

                <!-- Título dinámico -->
                <h1 class="titulo-bienvenida">
                    <span class="titulo-dinamico">Comienza Ahora</span>
                </h1>
                <p class="texto-bienvenida">
                    <span class="texto-dinamico">
                        Cada registro es un paso hacia el éxito. Únete a nosotros y lleva tu emprendimiento al siguiente nivel.
                    </span>
                </p>
                
                <!-- Botón para cambiar tipo -->
                <div class="switch-container">
                    <div class="switch-label">Tipo de Registro</div>
                    <button class="tipo-button" id="switchTipo" type="button">
                        <span class="button-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                <circle cx="12" cy="7" r="4"/>
                            </svg>
                        </span>
                        <span class="button-text">CLIENTE</span>
                        <span class="button-arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </span>
                    </button>
                </div>

                <!-- Indicador del tipo activo -->
                <div class="tipo-badge">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                    </svg>
                    <span id="tipoBadgeText">Registrando Cliente</span>
                </div>
            </div>

            <!-- Formas decorativas -->
            <div class="shape-bg shape-1"></div>
            <div class="shape-bg shape-2"></div>
            <div class="shape-bg shape-3"></div>
        </div>

        <!-- Panel Derecho - Formulario -->
        <div class="panel-derecho" id="panelBlanco">
            <div class="form-container">
                <h2 class="titulo-form">Registrarse</h2>
                <p class="subtitulo-form">Llena tus datos para continuar con el sistema</p>

                <form id="registroForm">
                    <!-- Campo oculto para tipo de persona (REQUERIDO PARA registro.js) -->
                    <input type="hidden" id="tipoPersona" value="CLIENTE">

                    <div class="campos-wrapper">
                        <!-- Cédula / RUC -->
                        <div class="input-wrapper">
                            <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                <line x1="16" y1="2" x2="16" y2="6"/>
                                <line x1="8" y1="2" x2="8" y2="6"/>
                                <line x1="3" y1="10" x2="21" y2="10"/>
                            </svg>
                            <input type="text" id="cedula" required placeholder=" ">
                            <label>Cédula / RUC</label>
                            <div class="input-line"></div>
                        </div>

                        <!-- Nombre Completo -->
                        <div class="input-wrapper">
                            <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                <circle cx="12" cy="7" r="4"/>
                            </svg>
                            <input type="text" id="nombre" required placeholder=" ">
                            <label>Nombre Completo</label>
                            <div class="input-line"></div>
                        </div>

                        <!-- Sexo (solo para Cliente) - IMPORTANTE: mantener estructura -->
                        <div class="input-wrapper campo-sexo" id="campo-sexo" style="display: block; opacity: 1; max-height: 80px;">
                            <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="8" r="7"/>
                                <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>
                            </svg>
                            <select id="sexo" placeholder=" ">
                                <option value="">Seleccione...</option>
                                <option value="M">Masculino</option>
                                <option value="F">Femenino</option>
                            </select>
                            <label>Sexo</label>
                            <div class="input-line"></div>
                        </div>

                        <!-- Celular -->
                        <div class="input-wrapper">
                            <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
                                <line x1="12" y1="18" x2="12.01" y2="18"/>
                            </svg>
                            <input type="text" id="celular" placeholder=" ">
                            <label>Celular</label>
                            <div class="input-line"></div>
                        </div>

                        <!-- Correo Electrónico -->
                        <div class="input-wrapper">
                            <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                <polyline points="22,6 12,13 2,6"/>
                            </svg>
                            <input type="email" id="correo" placeholder=" ">
                            <label>Correo Electrónico</label>
                            <div class="input-line"></div>
                        </div>
                    </div>

                    <!-- Botón Registrar (IMPORTANTE: mantener id="btnRegistrar" y type="button") -->
                    <button class="btn-registrar" type="button" id="btnRegistrar">
                        <span>Registrar</span>
                        <svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>

                    <!-- Mensaje (IMPORTANTE: mantener id="msg") -->
                    <p id="msg" class="msg"></p>
                </form>
            </div>
        </div>
    </div>

    <!-- Script para animaciones visuales -->
    <script>
        (function() {
            window.addEventListener('load', function() {
                const tipoButton = document.getElementById('switchTipo');
                const buttonText = tipoButton ? tipoButton.querySelector('.button-text') : null;
                const buttonIcon = tipoButton ? tipoButton.querySelector('.button-icon svg') : null;
                const tipoInput = document.getElementById('tipoPersona');
                const campoSexo = document.getElementById('campo-sexo');
                const panelIzquierdo = document.querySelector('.panel-izquierdo');
                const contenidoBienvenida = document.querySelector('.contenido-bienvenida');
                const tipoBadgeText = document.getElementById('tipoBadgeText');
                const tituloDinamico = document.querySelector('.titulo-dinamico');
                const textoDinamico = document.querySelector('.texto-dinamico');
                const logoCircle = document.querySelector('.logo-circle');

                if (!tipoButton) return;

                let esCliente = true;

                const textos = {
                    cliente: {
                        titulo: "Comienza Ahora",
                        descripcion: "Cada registro es un paso hacia el éxito. Únete a nosotros y lleva tu emprendimiento al siguiente nivel."
                    },
                    proveedor: {
                        titulo: "¡Bienvenido!",
                        descripcion: "Registra a tus proveedores y mantén un control total de tus operaciones comerciales de forma eficiente."
                    }
                };

                const iconos = {
                    cliente: '<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="7" r="4" fill="none" stroke="currentColor" stroke-width="2"/>',
                    proveedor: '<path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="9" cy="7" r="4" fill="none" stroke="currentColor" stroke-width="2"/><path d="M22 21v-2a4 4 0 0 0-3-3.87" fill="none" stroke="currentColor" stroke-width="2"/><path d="M16 3.13a4 4 0 0 1 0 7.75" fill="none" stroke="currentColor" stroke-width="2"/>'
                };

                tipoButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    esCliente = !esCliente;
                    const nuevoTipo = esCliente ? 'CLIENTE' : 'PROVEEDOR';
                    
                    // ACTUALIZAR INPUT HIDDEN (IMPORTANTE PARA registro.js)
                    if (tipoInput) {
                        tipoInput.value = nuevoTipo;
                    }

                    this.classList.toggle('active');

                    // Animaciones del panel izquierdo
                    if (panelIzquierdo) {
                        panelIzquierdo.style.transform = 'translateX(-50px)';
                        panelIzquierdo.style.opacity = '0.3';
                    }
                    if (contenidoBienvenida) {
                        contenidoBienvenida.style.transform = 'scale(0.95)';
                    }
                    if (logoCircle) {
                        logoCircle.style.transform = 'scale(0.8) rotate(-180deg)';
                    }
                    
                    setTimeout(() => {
                        if (buttonText) buttonText.textContent = esCliente ? 'CLIENTE' : 'PROVEEDOR';
                        if (buttonIcon) buttonIcon.innerHTML = esCliente ? iconos.cliente : iconos.proveedor;
                        if (tipoBadgeText) tipoBadgeText.textContent = esCliente ? 'Registrando Cliente' : 'Registrando Proveedor';
                        
                        const nuevoTexto = esCliente ? textos.cliente : textos.proveedor;
                        if (tituloDinamico) tituloDinamico.textContent = nuevoTexto.titulo;
                        if (textoDinamico) textoDinamico.textContent = nuevoTexto.descripcion;
                    }, 300);

                    setTimeout(() => {
                        if (panelIzquierdo) {
                            panelIzquierdo.style.transform = 'translateX(0)';
                            panelIzquierdo.style.opacity = '1';
                        }
                        if (contenidoBienvenida) contenidoBienvenida.style.transform = 'scale(1)';
                        if (logoCircle) logoCircle.style.transform = 'scale(1) rotate(0deg)';
                    }, 400);

                    // Mostrar/ocultar campo sexo (IMPORTANTE PARA LA LÓGICA)
                    if (campoSexo) {
                        if (esCliente) {
                            campoSexo.style.display = 'block';
                            setTimeout(() => {
                                campoSexo.style.opacity = '1';
                                campoSexo.style.transform = 'translateY(0)';
                            }, 50);
                        } else {
                            campoSexo.style.opacity = '0';
                            campoSexo.style.transform = 'translateY(-10px)';
                            setTimeout(() => {
                                campoSexo.style.display = 'none';
                            }, 300);
                        }
                    }
                });

                // Labels flotantes
                const inputs = document.querySelectorAll('.input-wrapper input, .input-wrapper select');
                inputs.forEach(input => {
                    input.addEventListener('focus', function() {
                        this.parentElement.classList.add('focused');
                    });
                    
                    input.addEventListener('blur', function() {
                        if (this.value === '') {
                            this.parentElement.classList.remove('focused');
                        }
                    });

                    if (input.value !== '') {
                        input.parentElement.classList.add('focused');
                    }
                });
            });
        })();
    </script>
    
    <!-- TU SCRIPT ORIGINAL DE LÓGICA (registro.js) -->
    <script src="../js/registro.js"></script>
</body>
</html>